<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Backbone.js Library</title>
        <link rel="stylesheet" href="css/screen.css">
        <link rel="stylesheet" href="css/cupertino/jquery-ui-1.10.0.custom.css">
    </head>
    <body>
        <div id="books">
            <form id="addBook" action="#type your action here" enctype="multipart/form-data">
                <div>
                    <label for="coverImage">Picture file:</label><div id="file">Find cover image file</div><input id="coverImage" type="file" name="file" />
                    <!--<label for="coverImage">CoverImage: </label><input id="coverImage" style="" type="file" /> -->
                    <label for="title">Title: </label><input id="title" type="text" placeholder="What's the book title?" />
                    <label for="author">Author: </label><input id="author" type="text" placeholder="Who wrote the book?" />
                    <label for="releaseDate">Release date: </label><input id="releaseDate" type="text" placeholder="Use datepicker first" />
                    <label for="keywords">Keywords: </label><input id="keywords" type="text" placeholder = "State associated tags"/>
                    <button id="clear">Clear</button>                    
                    <button id="add">Add</button>
                </div>
            </form>
        </div>
        <script id="bookTemplate" type="text/template">
            <img src="<%= coverImage %>"/>
            <ul data-id='<%= _id %> '>
                <li>
                <span class="noedit title"><%= title %></span>
                <input class="edit title" />
                </li>
                <li>
                <span class="noedit author"><%= author %></span>
                <input class="edit author" />
                </li>
                <li>
                <span class="noedit releaseDate"><%= isNaN(releaseDate) ? releaseDate : $.format.date(new Date(Number(releaseDate)), 'MMMM yyyy') %></span>
                <input class="edit releaseDate" />
                </li>
                <li>
                <span class="noedit keywords"><% _.each( keywords, function( keyobj ) {%> <%=keyobj.keyword%><% } ); %></span>
                <input class="edit keywords" />
                </li>
                <button class="delete">X</button>
                <button class="editBook noedit">Edit</button>
                <button class="saveEdit edit">Save</button>
                <button class="cancelEdit edit">Cancel</button>
            </ul>

            
        </script>
        
    <script src="js/lib/jquery.js"></script>
    <script src="js/lib/jq-ui-1.10.4.custom.min.js"></script>
    <script src="js/lib/underscore.js"></script>
    <script src="js/lib/backbone.js"></script>
    <script src="js/models/book.js"></script>
    <script src="js/collections/library.js"></script>
    <script src="js/views/book.js"></script>
    <script src="js/views/library.js"></script>
    <script src="js/app.js"></script>
    <script src="js/lib/dateFormat.js"></script>
    <script>
        var wrapper = $('<div/> #file').css({height:0,width:0,'overflow':'hidden'});
        var fileInput = $(':file').wrap(wrapper);

        fileInput.change(function() {
            $this = $(this);
            $('#file').text($this.val());
        });

        $('#file').click( function() { fileInput.click();}).show();
    </script>
    
</body>
</html>